<UserControl x:Class="SimpleDnsCrypt.Views.MainView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:lex="http://wpflocalizeextension.codeplex.com"
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:converters="clr-namespace:SimpleDnsCrypt.Converters"
             xmlns:customControls="clr-namespace:SimpleDnsCrypt.Controls"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             lex:LocalizeDictionary.DesignCulture="en"
             lex:LocalizeDictionary.OutputMissingKeys="False"
             lex:ResxLocalizationProvider.DefaultAssembly="SimpleDnsCrypt"
             lex:ResxLocalizationProvider.DefaultDictionary="Translation">
    <UserControl.Resources>
        <ResourceDictionary>
            <converters:InterfaceTypeToIconConverter x:Key="InterfaceTypeToIconConverter"
                                                     EthernetIcon="EthernetCable"
                                                     EthernetIconOffline="EthernetCableOff"
                                                     WifiIcon="Wifi"
                                                     WifiIconOffline="WifiOff" />
            <converters:InUseToBackgroundConverter x:Key="InUseToBackgroundConverter" />
            <converters:TextLengthToFontSizeConverter x:Key="TextLengthToFontSizeConverter" />
            <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
            <converters:BoolToVisibilityCollapsedConverter x:Key="BoolToVisibilityCollapsedConverter" />
            <converters:ReverseBoolToEnabledConverter x:Key="ReverseBoolToEnabledConverter" />
            <converters:QueryLogTypeToColorConverter x:Key="QueryLogTypeToColorConverter" />
            <converters:QueryLogReturnCodeToColorConverter x:Key="QueryLogReturnCodeToColorConverter" />
            <converters:LocalDateConverter x:Key="LocalDateConverter" />
            <converters:IntegerBoolToVisibilityConverter x:Key="IntegerBoolToVisibilityConverter" />
            <converters:ServerListBackgroundConverter x:Key="ServerListBackgroundConverter" />
            <converters:BoolToTextConverter x:Key="BoolToTextConverter" />
            <converters:BoolToForegroundConverter x:Key="BoolToForegroundConverter" />
            <converters:IntegerToBoolConverter x:Key="IntegerToBoolConverter" />
            <converters:IntegerToVisibilityConverter x:Key="IntegerToVisibilityConverter" />
            <converters:HeightConverter x:Key="HeightConverter" />
            <converters:UninstallToEnableConverter x:Key="UninstallToEnableConverter" />
            <converters:ProtocolToVisibilityConverter x:Key="ProtocolToVisibilityConverter" />
            <converters:RouteStateToColorConverter x:Key="RouteStateToColorConverter" />
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Background="#198AB328">
        <Border BorderThickness="1" Grid.Row="0" Grid.Column="0" Background="#198AB328" Margin="10"
                    Padding="10">
            <Border.BorderBrush>
                <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile" Opacity="0.4">
                    <DrawingBrush.Drawing>
                        <DrawingGroup>
                            <GeometryDrawing Brush="#FF8ab329">
                                <GeometryDrawing.Geometry>
                                    <GeometryGroup>
                                        <RectangleGeometry Rect="0,0,50,50" />
                                        <RectangleGeometry Rect="50,50,50,50" />
                                    </GeometryGroup>
                                </GeometryDrawing.Geometry>
                            </GeometryDrawing>
                        </DrawingGroup>
                    </DrawingBrush.Drawing>
                </DrawingBrush>
            </Border.BorderBrush>

            <TabControl controls:TabControlHelper.Transition="Right" Background="Transparent"
                            SelectedIndex="{Binding SelectedTabIndex}"
                            cal:Message.Attach="[Event SelectionChanged] = [Action TabControl_SelectionChanged($eventArgs)]">
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="mainTab"
                             Header="{lex:Loc Key=tabitem_mainmenu}">
                    <TabItem.Content>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <DockPanel Margin="0,10,0,0">
                                <Border BorderThickness="1" Background="#198AB328" Padding="10,10" Margin="0,0,0,0"
                                        MinHeight="75" DockPanel.Dock="Top"
                                        IsEnabled="{Binding IsSavingConfiguration, Converter={StaticResource ReverseBoolToEnabledConverter}}">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel Orientation="Vertical">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Wan" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=default_settings_configuration}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <UniformGrid Columns="2">
                                            <StackPanel Orientation="Vertical">
                                                <CheckBox IsChecked="{Binding DnscryptProxyConfiguration.ipv4_servers}"
                                                          Margin="5"
                                                          Content="{lex:Loc Key=default_settings_configuration_ipv4}"
                                                          ToolTip="{lex:Loc Key=default_settings_configuration_ipv4_tooltip}"
                                                          Cursor="Hand" Foreground="#FF575757" />
                                                <CheckBox IsChecked="{Binding DnscryptProxyConfiguration.ipv6_servers}"
                                                          Margin="5"
                                                          Content="{lex:Loc Key=default_settings_configuration_ipv6}"
                                                          ToolTip="{lex:Loc Key=default_settings_configuration_ipv6_tooltip}"
                                                          Cursor="Hand" Foreground="#FF575757" />
                                                <CheckBox
                                                    IsChecked="{Binding DnscryptProxyConfiguration.require_dnssec}"
                                                    Margin="5"
                                                    Content="{lex:Loc Key=default_settings_configuration_dnssec}"
                                                    ToolTip="{lex:Loc Key=default_settings_configuration_dnssec_tooltip}"
                                                    Cursor="Hand" Foreground="#FF575757" />
                                                <CheckBox
                                                    IsChecked="{Binding DnscryptProxyConfiguration.require_nolog}"
                                                    Margin="5"
                                                    Content="{lex:Loc Key=default_settings_configuration_nolog}"
                                                    ToolTip="{lex:Loc Key=default_settings_configuration_nolog_tooltip}"
                                                    Cursor="Hand" Foreground="#FF575757" />
                                                <CheckBox
                                                    IsChecked="{Binding DnscryptProxyConfiguration.require_nofilter}"
                                                    Margin="5"
                                                    Content="{lex:Loc Key=default_settings_configuration_nofilter}"
                                                    ToolTip="{lex:Loc Key=default_settings_configuration_nofilter_tooltip}"
                                                    Cursor="Hand" Foreground="#FF575757" />
                                            </StackPanel>
                                            <StackPanel Orientation="Vertical">
                                                <CheckBox IsChecked="{Binding DnscryptProxyConfiguration.dnscrypt_servers}"
                                                              Margin="5"
                                                              Content="{lex:Loc Key=default_settings_configuration_dnscrypt}"
                                                              ToolTip="{lex:Loc Key=default_settings_configuration_dnscrypt_tooltip}"
                                                              Cursor="Hand" Foreground="#FF575757" />
                                                <CheckBox IsChecked="{Binding DnscryptProxyConfiguration.doh_servers}"
                                                              Margin="5"
                                                              Content="{lex:Loc Key=default_settings_configuration_doh}"
                                                              ToolTip="{lex:Loc Key=default_settings_configuration_doh_tooltip}"
                                                              Cursor="Hand" Foreground="#FF575757" />
                                            </StackPanel>
                                        </UniformGrid>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>

                                            <Button x:Name="SaveDnsCryptConfiguration" Grid.Row="1" Height="32"
                                                        Width="Auto"
                                                        VerticalAlignment="Bottom" HorizontalAlignment="Right"
                                                        Content="{lex:Loc Key=default_settings_apply_settings}"
                                                        Cursor="Hand"
                                                        Style="{DynamicResource CustomAccentedSquareButtonStyle}" />
                                        </Grid>
                                    </StackPanel>
                                </Border>
                                <Border BorderThickness="1" Background="#198AB328" Padding="10,10" Margin="0,14,0,0"
                                        MinHeight="75" DockPanel.Dock="Top">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel Orientation="Vertical">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Flash" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=default_settings_service_header}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="250" />
                                                <ColumnDefinition Width="350" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="40" />
                                            </Grid.RowDefinitions>
                                            <Label Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                   Content="{lex:Loc Key=default_settings_service}"
                                                   VerticalAlignment="Bottom"
                                                   HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </Label>
                                            <controls:MetroProgressBar IsIndeterminate="True" Grid.Row="0"
                                                                       Grid.Column="1"
                                                                       Visibility="{Binding IsWorkingOnService, Converter={StaticResource BoolToVisibilityConverter}}"
                                                                       Width="250"
                                                                       Foreground="{DynamicResource AccentColorBrush}"
                                                                       Margin="0" HorizontalAlignment="Center"
                                                                       VerticalAlignment="Center" />
                                            <controls:ToggleSwitch
                                                IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                Grid.Row="0" Grid.Column="2" Cursor="Hand"
                                                IsOn="{Binding IsResolverRunning}"
                                                HorizontalAlignment="Right" VerticalAlignment="Top">
                                            </controls:ToggleSwitch>

                                            <Label Foreground="#FF575757" Grid.Row="1" Grid.Column="0"
                                                   Content="{lex:Loc Key=advanced_settings_uninstall_text}"
                                                   VerticalAlignment="Bottom"
                                                   HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </Label>
                                            <controls:MetroProgressBar IsIndeterminate="True" Grid.Row="1" Grid.Column="1"
                                                                       Visibility="{Binding IsUninstallingService, Converter={StaticResource BoolToVisibilityConverter}}"
                                                                       Width="250" Foreground="{DynamicResource AccentColorBrush}"
                                                                       HorizontalAlignment="Center" Margin="50,14,50,15"
                                                                       VerticalAlignment="Center" />
                                            <Button x:Name="UninstallService" Grid.Row="1" Grid.Column="2"
                                                    Style="{DynamicResource CustomAccentedSquareButtonStyle}"
                                                    Margin="0,10,0,0" HorizontalAlignment="Right"
                                                    Content="{lex:Loc Key=advanced_settings_uninstall_button}"
                                                    Cursor="Hand">
                                                <Button.IsEnabled>
                                                    <MultiBinding
                                                        Converter="{StaticResource UninstallToEnableConverter}">
                                                        <Binding Path="IsUninstallingService" />
                                                        <Binding Path="IsServiceInstalled" />
                                                    </MultiBinding>
                                                </Button.IsEnabled>
                                            </Button>

                                        </Grid>
                                    </StackPanel>
                                </Border>
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,14,0,0"
                                        DockPanel.Dock="Bottom"
                                        IsEnabled="{Binding IsSavingConfiguration, Converter={StaticResource ReverseBoolToEnabledConverter}}">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel Orientation="Vertical">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Lan" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=default_settings_network_cards}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                            <controls:ToggleSwitch Cursor="Hand" IsOn="{Binding ShowHiddenCards}"
                                                                   Foreground="#FF575757" Grid.Column="2" Grid.Row="0"
                                                                   HorizontalAlignment="Right"
                                                                   OffContent="{lex:Loc Key=default_settings_show_hidden_cards}"
                                                                   OnContent="{lex:Loc Key=default_settings_show_hidden_cards}">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <ItemsControl ItemsSource="{Binding LocalNetworkInterfaces}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <UniformGrid Columns="4" />
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <controls:Tile Cursor="Hand" Title="{Binding Name}"
                                                                   cal:Message.Attach="[Event Click] = [Action NetworkCardClicked($dataContext)]"
                                                                   TitleFontSize="{Binding Name, Converter={StaticResource TextLengthToFontSizeConverter}}"
                                                                   ToolTip="{Binding Description}" Foreground="#FFFFFF"
                                                                   Background="{Binding Converter={StaticResource InUseToBackgroundConverter}}"
                                                                   TiltFactor="1" Width="Auto" Height="100"
                                                                   HorizontalAlignment="Left">
                                                        <Grid Margin="15,0,0,0">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="150" />
                                                                <ColumnDefinition Width="20" />
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="*" />
                                                            </Grid.RowDefinitions>
                                                            <iconPacks:PackIconMaterial HorizontalAlignment="Center"
                                                                                        VerticalAlignment="Center"
                                                                                        Grid.Column="0" Grid.Row="0"
                                                                                        Kind="{Binding Converter={StaticResource InterfaceTypeToIconConverter}}"
                                                                                        Foreground="#FFFFFF" Width="48"
                                                                                        Height="48"
                                                                                        Margin="15,0,0,0" />
                                                            <iconPacks:PackIconMaterial Grid.Column="1" Grid.Row="0"
                                                                                        Kind="Check"
                                                                                        Width="16" Height="16"
                                                                                        VerticalAlignment="Top"
                                                                                        HorizontalAlignment="Right"
                                                                                        Margin="0,-20,7,0"
                                                                                        Foreground="#FFFFFF"
                                                                                        Visibility="{Binding UseDnsCrypt, Converter={StaticResource BoolToVisibilityConverter}}" />
                                                        </Grid>
                                                    </controls:Tile>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </StackPanel>
                                </Border>
                            </DockPanel>
                        </ScrollViewer>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="resolverTab"
                             Header="{lex:Loc Key=tabitem_resolvers}">
                    <TabItem.Content>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <DockPanel Margin="0,10,0,0">
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,14,0,0"
                                        DockPanel.Dock="Top"
                                        IsEnabled="{Binding IsSavingConfiguration, Converter={StaticResource ReverseBoolToEnabledConverter}}">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel Orientation="Vertical">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="AutoFix" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=resolvers_dnscrypt_mode_header}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <TextBlock Foreground="#FF575757" Margin="0,5,0,0"
                                                   Text="{lex:Loc Key=resolvers_dnscrypt_mode_description}" />
                                        <controls:ToggleSwitch Foreground="#FF575757" Cursor="Hand"
                                                               IsOn="{Binding IsDnsCryptAutomaticModeEnabled}"
                                                               OnContent="{lex:Loc Key=enabled}"
                                                               OffContent="{lex:Loc Key=disabled}"
                                                               Header="{lex:Loc Key=resolvers_dnscrypt_automatic_mode}"
                                                               Margin="0,5,0,0" />
                                    </StackPanel>
                                </Border>
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,14,0,0"
                                        DockPanel.Dock="Bottom"
                                        IsEnabled="{Binding IsSavingConfiguration, Converter={StaticResource ReverseBoolToEnabledConverter}}">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel Orientation="Vertical">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Dns" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row="0"
                                                        Margin="5,0,0,3">
                                                <TextBlock Text="{lex:Loc Key=resolvers_available_resolvers_header}"
                                                           TextWrapping="Wrap" VerticalAlignment="Center"
                                                           Foreground="#FF8ab329" FontSize="20"
                                                           Opacity="0.7" FontWeight="Bold">
                                                </TextBlock>
                                                <TextBlock Text="{Binding Resolvers.Count, StringFormat={}({0})}"
                                                           TextWrapping="Wrap" VerticalAlignment="Center"
                                                           Foreground="#FF8ab329" FontSize="20"
                                                           Opacity="0.7" FontWeight="Bold" Margin="5,0,0,0">
                                                </TextBlock>
                                            </StackPanel>
                                            <Button x:Name="SaveLocalServers" Grid.Column="2" Grid.Row="0"
                                                    Cursor="Hand"
                                                    IsEnabled="{Binding Resolvers.Count, Converter={StaticResource IntegerToBoolConverter}}"
                                                    Content="{lex:Loc Key=default_settings_apply_settings}"
                                                    Width="Auto" HorizontalAlignment="Right"
                                                    Style="{DynamicResource CustomAccentedSquareButtonStyle}" />
                                        </Grid>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center"
                                                       Text="{lex:Loc Key=default_settings_configuration_dnssec}"
                                                       Foreground="#FF575757" Margin="5,5,0,2" />
                                            <TextBlock VerticalAlignment="Center"
                                                       Text="{Binding DnscryptProxyConfiguration.require_dnssec, Converter={StaticResource BoolToTextConverter}}"
                                                       FontWeight="Bold"
                                                       Foreground="{Binding DnscryptProxyConfiguration.require_dnssec,Converter={StaticResource BoolToForegroundConverter}}"
                                                       Margin="5,5,0,2" />
                                            <TextBlock VerticalAlignment="Center" Foreground="#FF575757"
                                                       Margin="5,5,0,2">
                                                |
                                            </TextBlock>
                                            <TextBlock VerticalAlignment="Center"
                                                       Text="{lex:Loc Key=default_settings_configuration_nolog}"
                                                       Foreground="#FF575757" Margin="5,5,0,2" />
                                            <TextBlock VerticalAlignment="Center" FontWeight="Bold"
                                                       Margin="5,5,0,2"
                                                       Text="{Binding DnscryptProxyConfiguration.require_nolog, Converter={StaticResource BoolToTextConverter}}"
                                                       Foreground="{Binding DnscryptProxyConfiguration.require_nolog,Converter={StaticResource BoolToForegroundConverter}}" />
                                            <TextBlock VerticalAlignment="Center" Foreground="#FF575757"
                                                       Margin="5,5,0,2">
                                                |
                                            </TextBlock>
                                            <TextBlock VerticalAlignment="Center"
                                                       Text="{lex:Loc Key=default_settings_configuration_nofilter}"
                                                       Foreground="#FF575757" Margin="5,5,0,2" />
                                            <TextBlock VerticalAlignment="Center" FontWeight="Bold"
                                                       Text="{Binding DnscryptProxyConfiguration.require_nofilter, Converter={StaticResource BoolToTextConverter}}"
                                                       Foreground="{Binding DnscryptProxyConfiguration.require_nofilter,Converter={StaticResource BoolToForegroundConverter}}"
                                                       Margin="5,5,0,2" />
                                        </StackPanel>
                                        <Grid>
                                            <Grid.RowDefinitions >
                                                <RowDefinition Height="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}, Path=ActualHeight, Converter={StaticResource HeightConverter}, ConverterParameter='Resolvers'}"/>
                                            </Grid.RowDefinitions>
                                            <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="0,5,0,0">
                                                <ItemsControl ItemsSource="{Binding Resolvers}" IsEnabled="True"
                                                              Margin="0">
                                                    <ItemsControl.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <UniformGrid Columns="3" />
                                                        </ItemsPanelTemplate>
                                                    </ItemsControl.ItemsPanel>
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border BorderThickness="0.2" Background="White"
                                                                    Padding="1">
                                                                <Grid Cursor="Hand"
                                                                      cal:Message.Attach="[Event MouseLeftButtonDown] = [Action ResolverClicked($dataContext)]"
                                                                      Background="{Binding IsInServerList, Converter={StaticResource ServerListBackgroundConverter}}"
                                                                      ToolTip="{Binding ToolTip}">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition />
                                                                        <RowDefinition />
                                                                    </Grid.RowDefinitions>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="30"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <TextBlock  Foreground="White"
                                                                               Margin="5,2" Grid.Row="0" Grid.Column="1"
                                                                               Text="{Binding DisplayName}" HorizontalAlignment="Right" />
                                                                    <Button Grid.Row="0" Grid.Column="0"
                                                                            Visibility="{Binding Protocol, Converter={StaticResource ProtocolToVisibilityConverter}}"
                                                                            Background="White"
                                                                            Width="20"
                                                                            Height="20"
                                                                            Cursor="Hand"
                                                                            HorizontalContentAlignment="Center"
                                                                            VerticalContentAlignment="Center"
                                                                            BorderBrush="{Binding RouteState, Converter={StaticResource RouteStateToColorConverter}}"
                                                                            FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                                            Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                                            Margin="5,2,0,2" HorizontalAlignment="Left" VerticalAlignment="Top">
                                                                        <iconPacks:PackIconMaterial
                                                                            Kind="Shuffle"
                                                                            Width="10"
                                                                            Height="10"
                                                                            HorizontalContentAlignment="Center"
                                                                            VerticalContentAlignment="Center" >
                                                                            <iconPacks:PackIconMaterial.Foreground>
                                                                                <SolidColorBrush Color="{Binding RouteState, Converter={StaticResource RouteStateToColorConverter}}"/>
                                                                            </iconPacks:PackIconMaterial.Foreground>
                                                                        </iconPacks:PackIconMaterial>
                                                                        <Button.ToolTip>
                                                                            <Label Content="{Binding RouteStateText}" FontWeight="DemiBold" />
                                                                        </Button.ToolTip>
                                                                        <i:Interaction.Triggers>
                                                                            <i:EventTrigger EventName="Click">
                                                                                <cal:ActionMessage MethodName="HandleManageRoutes">
                                                                                    <cal:Parameter Value="{Binding}" />
                                                                                </cal:ActionMessage>
                                                                            </i:EventTrigger>
                                                                        </i:Interaction.Triggers>
                                                                    </Button>
                                                                    <TextBlock Foreground="White" Margin="5,2"
                                                                               Grid.ColumnSpan="2"
                                                                               Grid.Row="1" FontSize="10"
                                                                               Text="{Binding Description}"
                                                                               TextTrimming="WordEllipsis" />
                                                                </Grid>
                                                            </Border>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </ScrollViewer>
                                            <TextBlock Foreground="#FF575757" Text="No resolvers have been loaded yet"
                                                       Visibility="{Binding Resolvers.Count, Converter={StaticResource IntegerToVisibilityConverter}}"
                                                       HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Grid>
                                    </StackPanel>
                                </Border>
                            </DockPanel>
                        </ScrollViewer>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="advancedSettingsTab"
                             Header="{lex:Loc Key=tabitem_advanced_settings}"
                             Visibility="{Binding SettingsViewModel.IsAdvancedSettingsTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                    <TabItem.Content>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <DockPanel Margin="0,10,0,0">
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,14,0,0"
                                        DockPanel.Dock="Top"
                                        IsEnabled="{Binding IsSavingConfiguration, Converter={StaticResource ReverseBoolToEnabledConverter}}">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel Orientation="Vertical">
                                        <!-- Listen Addresses begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Ethernet"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=address_settings_listen_addresses}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="550" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=address_settings_description}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </TextBlock>
                                            <Button IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}" Width="Auto"
                                                    Grid.Row="0" Grid.Column="1" Cursor="Hand" Content="{lex:Loc Key=address_settings_manage_listen_addresses}" x:Name="ListenAddresses" Margin="0,0,0,5"
                                                    HorizontalAlignment="Right" Style="{DynamicResource CustomAccentedSquareButtonStyle}" VerticalAlignment="Top"></Button>
                                        </Grid>
                                        <!-- Listen Addresses end -->
                                        <!-- DNS Cache begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="BookOpenPageVariant"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=advanced_settings_dnscache}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=advanced_settings_dnscache_content}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </TextBlock>
                                            <controls:ToggleSwitch
                                                IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                Grid.Row="0" Grid.Column="1" Cursor="Hand"
                                                IsOn="{Binding DnscryptProxyConfiguration.cache}"
                                                HorizontalAlignment="Right" VerticalAlignment="Top">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <!-- DNS Cache end -->
                                        <!-- Block IPv6 begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Numeric6BoxMultipleOutline"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=advanced_settings_blockipv6}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=advanced_settings_blockipv6_content}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </TextBlock>
                                            <controls:ToggleSwitch
                                                IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                Grid.Row="0" Grid.Column="1" Cursor="Hand"
                                                IsOn="{Binding DnscryptProxyConfiguration.block_ipv6}"
                                                HorizontalAlignment="Right" VerticalAlignment="Top">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <!-- Block IPv6 end -->
                                        <!-- Force TCP begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Network"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=advanced_settings_forcetcp}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=advanced_settings_forcetcp_content}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </TextBlock>
                                            <controls:ToggleSwitch
                                                IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                Grid.Row="0" Grid.Column="1" Cursor="Hand"
                                                IsOn="{Binding DnscryptProxyConfiguration.force_tcp}"
                                                HorizontalAlignment="Right" VerticalAlignment="Top">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <!-- Force TCP end -->
                                        <!-- Global Resolver begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="ArrowAll"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=advanced_settings_globalresolver}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=advanced_settings_globalresolver_content}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </TextBlock>
                                            <controls:ToggleSwitch
                                                IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                Grid.Row="0" Grid.Column="1" Cursor="Hand"
                                                IsOn="{Binding IsOperatingAsGlobalResolver}"
                                                HorizontalAlignment="Right" VerticalAlignment="Top">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <!-- Global Resolver end -->
                                        <!-- Fallback Resolver begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="BackupRestore"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=advanced_settings_fallback_resolvers}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="550" />
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=advanced_settings_fallback_resolvers_content}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,0">
                                            </TextBlock>
                                            <Button IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}" Width="Auto"
                                                    Grid.Row="0" Grid.Column="1" Cursor="Hand" Content="{lex:Loc Key=advanced_settings_manage_fallback_resolvers}" x:Name="ManageFallbackResolvers" Margin="0,0,0,5"
                                                    HorizontalAlignment="Right" Style="{DynamicResource CustomAccentedSquareButtonStyle}" VerticalAlignment="Top"></Button>
                                        </Grid>
                                        <!-- Fallback Resolver end -->
                                        <!-- Netprobe Timeout begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Timelapse"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="{lex:Loc Key=advanced_settings_netprobe_timeout}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="32.556" />
                                                <ColumnDefinition Width="517.444"/>
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="{lex:Loc Key=advanced_settings_netprobe_timeout_content}"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,0" Grid.ColumnSpan="2">
                                            </TextBlock>
                                            <controls:NumericUpDown IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                                    Grid.Row="0" Grid.Column="2" Minimum="0" Maximum="65000" Value="{Binding DnscryptProxyConfiguration.netprobe_timeout}"
                                                                    Background="#FF8ab329"
                                                                    Opacity="0.8" BorderBrush="#FF575757"
                                                                    HorizontalAlignment="Right" VerticalAlignment="Top"
                                                                    TextAlignment="Right"/>
                                        </Grid>
                                        <!-- Netprobe Timeout end -->
                                        <!-- Logging begin -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Text"
                                                                        Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0"
                                                       Text="Proxy Logging"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35" />
                                            </Grid.RowDefinitions>
                                            <TextBlock Foreground="#FF575757" Grid.Row="0" Grid.Column="0"
                                                       TextWrapping="Wrap"
                                                       Text="Log to dnscrypt-proxy.log (log_level: 0)"
                                                       VerticalAlignment="Bottom"
                                                       HorizontalAlignment="Left" Margin="0,0,0,5">
                                            </TextBlock>
                                            <controls:ToggleSwitch
                                                IsEnabled="{Binding IsWorkingOnService, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                Grid.Row="0" Grid.Column="1" Cursor="Hand"
                                                IsOn="{Binding DnscryptProxyConfiguration.log}"
                                                HorizontalAlignment="Right" VerticalAlignment="Top">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <!-- Logging end -->
                                        <Button x:Name="SaveAdvancedSettings"
                                                Cursor="Hand"
                                                Content="{lex:Loc Key=default_settings_apply_settings}"
                                                Width="Auto" HorizontalAlignment="Right"
                                                Style="{DynamicResource CustomAccentedSquareButtonStyle}" Margin="0,15,5,5" />
                                    </StackPanel>
                                </Border>

                            </DockPanel>
                        </ScrollViewer>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="queryLogTab"
                             Header="{lex:Loc Key=tabitem_querylog}"
                             Visibility="{Binding SettingsViewModel.IsQueryLogTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                    <TabItem.Content>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <DockPanel Margin="0,10,0,0">
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,10,0,0"
                                        DataContext="{Binding QueryLogViewModel}" DockPanel.Dock="Top">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <Grid
                                        Height="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}, Path=ActualHeight, Converter={StaticResource HeightConverter}, ConverterParameter='QueryLog'}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Eye" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0" Text="{lex:Loc Key=querylog}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                            <controls:ToggleSwitch Grid.Column="2" Grid.Row="0"
                                                                         Cursor="Hand"
                                                                         IsOn="{Binding IsQueryLogLogging}"
                                                                         HorizontalAlignment="Right"
                                                                         VerticalAlignment="Top" Margin="0,0,10,0">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <Grid Grid.Row="1">
                                            <customControls:LoggingListView SelectedItem="{Binding SelectedQueryLogLine}"
                                                      BorderBrush="#198AB328" AutoScroll="True"
                                                      VerticalContentAlignment="Stretch"
                                                      ScrollViewer.CanContentScroll="True"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      Foreground="#FF575757" FontSize="12" SelectionMode="Single"
                                                      ItemsSource="{Binding QueryLogLines, Mode=OneWay}" Margin="10"
                                                      Background="#198AB328"
                                                      VirtualizingStackPanel.VirtualizationMode="Recycling">
                                                <customControls:LoggingListView.ItemContainerStyle>
                                                    <Style TargetType="{x:Type ListViewItem}">
                                                        <Setter Property="Background" Value="#198AB328" />
                                                    </Style>
                                                </customControls:LoggingListView.ItemContainerStyle>
                                                <customControls:LoggingListView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="0,2">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="130" />
                                                                <ColumnDefinition Width="40" />
                                                                <ColumnDefinition Width="90" />
                                                                <ColumnDefinition Width="80" />
                                                                <ColumnDefinition Width="160" />
                                                                <ColumnDefinition Width="40" />
                                                                <ColumnDefinition Width="50" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>
                                                            <TextBlock Grid.Column="0"
                                                                       Text="{Binding Date, Converter={StaticResource LocalDateConverter}}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="1" Text="{Binding Type}"
                                                                       Foreground="{Binding Type, Converter={StaticResource QueryLogTypeToColorConverter}}" />
                                                            <TextBlock Grid.Column="2" Text="{Binding ReturnCode}"
                                                                       Foreground="{Binding ReturnCode, Converter={StaticResource QueryLogReturnCodeToColorConverter}}" />
                                                            <TextBlock Grid.Column="3" Text="{Binding Address}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="4" Text="{Binding Remote}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="5" Text="{Binding CachedText}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="6" Text="{Binding DurationText}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="7" Text="{Binding Server}"
                                                                       Foreground="#FF575757" />
                                                        </Grid>
                                                    </DataTemplate>
                                                </customControls:LoggingListView.ItemTemplate>
                                            </customControls:LoggingListView>

                                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                <StackPanel.Visibility>
                                                    <MultiBinding
                                                        Converter="{StaticResource IntegerBoolToVisibilityConverter}">
                                                        <Binding Path="QueryLogLines.Count" />
                                                        <Binding Path="IsQueryLogLogging" />
                                                    </MultiBinding>
                                                </StackPanel.Visibility>
                                                <controls:ProgressRing Foreground="{DynamicResource AccentColorBrush}"
                                                                       Width="24"
                                                                       Height="24" />
                                                <TextBlock Margin="0,10,0,0" Foreground="#FF575757"
                                                           Text="{lex:Loc Key=querylog_waiting_for_data}" />
                                            </StackPanel>
                                        </Grid>
                                        <Grid Margin="10,8,0,0" Grid.Row="2">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="100" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="40" />
                                            </Grid.RowDefinitions>

                                            <TextBlock Foreground="#FF575757" FontSize="12"
                                                       VerticalAlignment="Center" Grid.Row="0" Grid.Column="0"
                                                       Text="{lex:Loc Key=querylog_entry_count}">
                                            </TextBlock>
                                            <TextBlock Foreground="#FF575757" FontSize="12" FontWeight="Bold"
                                                       VerticalAlignment="Center" Grid.Row="0" Grid.Column="1"
                                                       Text="{Binding QueryLogLines.Count}">
                                            </TextBlock>

                                            <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="0"
                                                        HorizontalAlignment="Right">
                                                <Button x:Name="ClearQueryLog" cal:Message.Attach="ClearQueryLog"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="5,0,0,0">
                                                    <iconPacks:PackIconMaterial
                                                        Kind="NotificationClearAll"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                    <Button.ToolTip>
                                                        <Label Content="{lex:Loc Key=querylog_button_clear}"
                                                               FontWeight="DemiBold" />
                                                    </Button.ToolTip>
                                                </Button>
                                                <Button x:Name="BlockQueryLogEntry"
                                                        cal:Message.Attach="BlockQueryLogEntry"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="5,0,5,0">
                                                    <iconPacks:PackIconMaterial
                                                        Kind="BlockHelper"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                    <Button.ToolTip>
                                                        <Label
                                                            Content="{lex:Loc Key=querylog_button_block}"
                                                            FontWeight="DemiBold" />
                                                    </Button.ToolTip>
                                                </Button>
                                            </StackPanel>
                                            <TextBlock Foreground="#FF575757" FontSize="12"
                                                       VerticalAlignment="Center" Grid.Row="1" Grid.Column="0"
                                                       Text="{lex:Loc Key=querylog_source_file}">
                                            </TextBlock>
                                            <TextBox Text="{Binding QueryLogFile}"
                                                     Background="#FF8ab329" Opacity="0.4" BorderBrush="#FF575757"
                                                     IsReadOnly="True" Grid.Row="1" Grid.Column="1"
                                                     VerticalContentAlignment="Center" VerticalAlignment="Center"
                                                     HorizontalContentAlignment="Stretch" />
                                            <Button x:Name="ChangeQueryLogFilePath"
                                                    cal:Message.Attach="ChangeQueryLogFilePath"
                                                    Background="White"
                                                    IsEnabled="{Binding IsQueryLogLogging, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                    Width="30"
                                                    Height="30" HorizontalAlignment="Right"
                                                    Cursor="Hand" Grid.Row="1" Grid.Column="2"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="5,0,5,0">
                                                <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                        </Grid>
                                    </Grid>
                                </Border>
                            </DockPanel>
                        </ScrollViewer>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="cloakAndForwardTab"
                             Visibility="{Binding SettingsViewModel.IsCloakAndForwardTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}"
                             Header="{lex:Loc Key=tabitem_cloakandforward}">
                    <TabItem.Content>
                        <DockPanel Margin="0,10,0,0">
                            <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,10,0,0"
                                        DataContext="{Binding CloakAndForwardViewModel}" DockPanel.Dock="Top">
                                <Border.BorderBrush>
                                    <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>
                                                <GeometryDrawing Brush="#FF8ab329">
                                                    <GeometryDrawing.Geometry>
                                                        <GeometryGroup>
                                                            <RectangleGeometry Rect="0,0,50,50" />
                                                            <RectangleGeometry Rect="50,50,50,50" />
                                                        </GeometryGroup>
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Border.BorderBrush>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                    Width="20" Kind="AccountConvert"
                                                                    Opacity="0.7"
                                                                    Foreground="#FF8ab329"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="1" Grid.Row="0"
                                                   Text="{lex:Loc Key=cloaking}"
                                                   TextWrapping="Wrap" VerticalAlignment="Center"
                                                   Foreground="#FF8ab329" FontSize="20"
                                                   Opacity="0.7" Margin="5,0,0,0" FontWeight="Bold">
                                    </TextBlock>
                                    <controls:ToggleSwitch HorizontalAlignment="Right" Margin="0,0,5,0"
                                                                     Cursor="Hand"
                                                                     IsOn="{Binding IsCloakingEnabled}"
                                                                     Grid.Column="1" Grid.Row="0" />
                                    <Grid Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <Label MinWidth="120" Grid.Column="0" VerticalContentAlignment="Center"
                                                   Foreground="#FF575757" Content="{lex:Loc Key=cloaking_path}"
                                                   Height="30" VerticalAlignment="Top" />
                                        <TextBox Grid.Column="1" Text="{Binding CloakingRulesFile}"
                                                     Background="#FF8ab329"
                                                     Opacity="0.4" BorderBrush="#FF575757"
                                                     MinWidth="560" IsReadOnly="True"
                                                     VerticalContentAlignment="Center"
                                                     Margin="0,0,0,0" />
                                        <Button Grid.Column="2" x:Name="ChangeCloakingRulesFile"
                                                    cal:Message.Attach="ChangeCloakingRulesFile"
                                                    Background="White"
                                                    IsEnabled="{Binding IsCloakingEnabled, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                    Width="30"
                                                    Height="30"
                                                    Cursor="Hand"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="15,0,0,0">
                                            <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                            <Button.ToolTip>
                                                <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                            </Button.ToolTip>
                                        </Button>
                                    </Grid>
                                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" Grid.Column="0"
                                                Grid.Row="2">
                                        <Label Foreground="#FF575757"
                                               FontSize="16" FontWeight="Bold"
                                               Content="{lex:Loc Key=cloaking_rules_header}"
                                               VerticalAlignment="Center" />
                                        <Label Foreground="#FF575757"
                                               FontSize="12"
                                               Content="{lex:Loc Key=cloaking_rules_sub_header}"
                                               Margin="0,2,0,0"
                                               VerticalAlignment="Center" />
                                    </StackPanel>
                                    <Grid Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <ListView BorderBrush="#198AB328" Grid.Column="0"
                                                      IsEnabled="{Binding IsWorking, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      ScrollViewer.CanContentScroll="True"
                                                      MinHeight="180" MinWidth="680"
                                                      SelectedItem="{Binding Path=SelectedCloakingEntry}"
                                                      ItemsSource="{Binding Path=CloakingRules}">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <UniformGrid Columns="2">
                                                        <Label Content="{Binding Key}"
                                                               FontSize="10"
                                                               Foreground="#FF575757" />
                                                        <Label Content="{Binding Value}"
                                                               FontSize="10"
                                                               Foreground="#FF575757" />
                                                    </UniformGrid>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                        <StackPanel Orientation="Vertical" Margin="15,0,0,0" Grid.Column="1">
                                            <Button x:Name="AddCloakingRule"
                                                        cal:Message.Attach="AddCloakingRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Plus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_cloaking_add}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="RemoveCloakingRule"
                                                        cal:Message.Attach="RemoveCloakingRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Minus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_cloaking_remove}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ImportCloakingRules"
                                                        cal:Message.Attach="ImportCloakingRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileImport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_cloaking_import}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ExportCloakingRules"
                                                        cal:Message.Attach="ExportCloakingRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileExport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_cloaking_export}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                        </StackPanel>
                                    </Grid>
                                    <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="4" Height="20" Margin="0,7,0,0"
                                                                    Width="20" Kind="Radar"
                                                                    Opacity="0.7"
                                                                    Foreground="#FF8ab329"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="1" Grid.Row="4" Margin="5,7,0,0"
                                                   Text="{lex:Loc Key=forwarding}"
                                                   TextWrapping="Wrap" VerticalAlignment="Center"
                                                   Foreground="#FF8ab329" FontSize="20"
                                                   Opacity="0.7" FontWeight="Bold">
                                    </TextBlock>
                                    <controls:ToggleSwitch HorizontalAlignment="Right" Margin="0,7,5,0"
                                                                     Cursor="Hand"
                                                                     IsOn="{Binding IsForwardingEnabled}"
                                                                     Grid.Column="1" Grid.Row="4" />
                                    <Grid Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <Label MinWidth="120" Grid.Column="0" VerticalContentAlignment="Center"
                                                   Foreground="#FF575757" Content="{lex:Loc Key=forwarding_path}"
                                                   Height="30" VerticalAlignment="Top" />
                                        <TextBox Grid.Column="1" Text="{Binding ForwardingRulesFile}"
                                                     Background="#FF8ab329"
                                                     Opacity="0.4" BorderBrush="#FF575757"
                                                     MinWidth="560" IsReadOnly="True"
                                                     VerticalContentAlignment="Center"
                                                     Margin="0,0,0,0" />
                                        <Button Grid.Column="2" x:Name="ChangeForwardingRulesFile"
                                                    cal:Message.Attach="ChangeForwardingRulesFile"
                                                    Background="White"
                                                    IsEnabled="{Binding IsForwardingEnabled, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                    Width="30"
                                                    Height="30"
                                                    Cursor="Hand"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="15,0,0,0">
                                            <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                            <Button.ToolTip>
                                                <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                            </Button.ToolTip>
                                        </Button>
                                    </Grid>
                                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" Grid.Column="0"
                                                Grid.Row="6">
                                        <Label Foreground="#FF575757"
                                               FontSize="16" FontWeight="Bold"
                                               Content="{lex:Loc Key=forwarding_rules_header}"
                                               VerticalAlignment="Center" />
                                        <Label Foreground="#FF575757"
                                               FontSize="12"
                                               Content="{lex:Loc Key=forwarding_rules_sub_header}"
                                               Margin="0,2,0,0"
                                               VerticalAlignment="Center" />
                                    </StackPanel>
                                    <Grid Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <ListView BorderBrush="#198AB328" Grid.Column="0"
                                                      IsEnabled="{Binding IsWorking, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      ScrollViewer.CanContentScroll="True"
                                                      MinHeight="180" MinWidth="680"
                                                      SelectedItem="{Binding Path=SelectedForwardingEntry}"
                                                      ItemsSource="{Binding Path=ForwardingRules}">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <UniformGrid Columns="2">
                                                        <Label Content="{Binding Key}"
                                                               FontSize="10"
                                                               Foreground="#FF575757" />
                                                        <Label Content="{Binding Value}"
                                                               FontSize="10"
                                                               Foreground="#FF575757" />
                                                    </UniformGrid>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                        <StackPanel Orientation="Vertical" Margin="15,0,0,0" Grid.Column="1">
                                            <Button x:Name="AddForwardingRule"
                                                        cal:Message.Attach="AddForwardingRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Plus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_forwarding_add}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="RemoveForwardingRule"
                                                        cal:Message.Attach="RemoveForwardingRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Minus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_forwarding_remove}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ImportForwardingRules"
                                                        cal:Message.Attach="ImportForwardingRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileImport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_forwarding_import}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ExportForwardingRules"
                                                        cal:Message.Attach="ExportForwardingRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileExport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_forwarding_export}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                        </StackPanel>
                                    </Grid>
                                </Grid>
                            </Border>
                        </DockPanel>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="domainBlockLogTab"
                             Visibility="{Binding SettingsViewModel.IsDomainBlockLogTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}"
                             Header="{lex:Loc Key=tabitem_domainblocklog}">
                    <TabItem.Content>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <DockPanel Margin="0,10,0,0">
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,10,0,0"
                                        DataContext="{Binding DomainBlockLogViewModel}" DockPanel.Dock="Top">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <Grid Height="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}, Path=ActualHeight, Converter={StaticResource HeightConverter}, ConverterParameter='DomainBlockLog'}">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                        Width="20" Kind="Eye" Opacity="0.7"
                                                                        Foreground="#FF8ab329"
                                                                        HorizontalAlignment="Left"
                                                                        VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="1" Grid.Row="0" Text="{lex:Loc Key=domainblocklog}"
                                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                                       Foreground="#FF8ab329" FontSize="20"
                                                       Opacity="0.7" Margin="5,0,0,3" FontWeight="Bold">
                                            </TextBlock>
                                            <controls:ToggleSwitch Grid.Column="2" Grid.Row="0"
                                                                         Cursor="Hand"
                                                                         IsOn="{Binding IsDomainBlockLogLogging}"
                                                                         HorizontalAlignment="Right"
                                                                         VerticalAlignment="Top" Margin="0,0,10,0">
                                            </controls:ToggleSwitch>
                                        </Grid>
                                        <Grid Grid.Row="1">
                                            <ListView SelectedItem="{Binding SelectedDomainBlockLogLine}"
                                                      BorderBrush="#198AB328"
                                                      VerticalContentAlignment="Stretch"
                                                      ScrollViewer.CanContentScroll="True"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      Foreground="#FF575757" FontSize="12" SelectionMode="Single"
                                                      ItemsSource="{Binding DomainBlockLogLines, Mode=OneWay}"
                                                      Margin="10" Background="#198AB328"
                                                      VirtualizingStackPanel.VirtualizationMode="Recycling">
                                                <ListView.ItemContainerStyle>
                                                    <Style TargetType="{x:Type ListViewItem}">
                                                        <Setter Property="Background" Value="#198AB328" />
                                                    </Style>
                                                </ListView.ItemContainerStyle>
                                                <ListView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="0,2">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="130" />
                                                                <ColumnDefinition Width="100" />
                                                                <ColumnDefinition Width="200" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>
                                                            <TextBlock Grid.Column="0"
                                                                       Text="{Binding Time, Converter={StaticResource LocalDateConverter}}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="1" Text="{Binding Host}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="2" Text="{Binding QName}"
                                                                       Foreground="#FF575757" />
                                                            <TextBlock Grid.Column="3" Text="{Binding Message}"
                                                                       Foreground="#FF575757" />
                                                        </Grid>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">
                                                <StackPanel.Visibility>
                                                    <MultiBinding
                                                        Converter="{StaticResource IntegerBoolToVisibilityConverter}">
                                                        <Binding Path="DomainBlockLogLines.Count" />
                                                        <Binding Path="IsDomainBlockLogLogging" />
                                                    </MultiBinding>
                                                </StackPanel.Visibility>
                                                <controls:ProgressRing Foreground="{DynamicResource AccentColorBrush}"
                                                                       Width="24"
                                                                       Height="24" />
                                                <TextBlock Margin="0,10,0,0" Foreground="#FF575757"
                                                           Text="{lex:Loc Key=domainblocklog_waiting_for_data}" />
                                            </StackPanel>
                                        </Grid>
                                        <Grid Margin="10,8,0,0" Grid.Row="2">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="100" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="40" />
                                            </Grid.RowDefinitions>

                                            <TextBlock Foreground="#FF575757" FontSize="12"
                                                       VerticalAlignment="Center" Grid.Row="0" Grid.Column="0"
                                                       Text="{lex:Loc Key=domainblocklog_entry_count}">
                                            </TextBlock>
                                            <TextBlock Foreground="#FF575757" FontSize="12" FontWeight="Bold"
                                                       VerticalAlignment="Center" Grid.Row="0" Grid.Column="1"
                                                       Text="{Binding DomainBlockLogLines.Count}">
                                            </TextBlock>

                                            <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="0"
                                                        HorizontalAlignment="Right">
                                                <Button x:Name="ClearDomainBlockLog"
                                                        cal:Message.Attach="ClearDomainBlockLog"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="5,0,0,0">
                                                    <iconPacks:PackIconMaterial
                                                        Kind="NotificationClearAll"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                    <Button.ToolTip>
                                                        <Label Content="{lex:Loc Key=querylog_button_clear}"
                                                               FontWeight="DemiBold" />
                                                    </Button.ToolTip>
                                                </Button>
                                                <Button x:Name="UnblockBlockLogEntry"
                                                        cal:Message.Attach="UnblockBlockLogEntry"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="5,0,5,0">
                                                    <iconPacks:PackIconMaterial
                                                        Kind="Check"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                    <Button.ToolTip>
                                                        <Label
                                                            Content="whitelist"
                                                            FontWeight="DemiBold" />
                                                    </Button.ToolTip>
                                                </Button>
                                            </StackPanel>
                                            <TextBlock Foreground="#FF575757" FontSize="12"
                                                       VerticalAlignment="Center" Grid.Row="1" Grid.Column="0"
                                                       Text="{lex:Loc Key=domainblocklog_source_file}">
                                            </TextBlock>
                                            <TextBox Text="{Binding DomainBlockLogFile}"
                                                     Background="#FF8ab329" Opacity="0.4" BorderBrush="#FF575757"
                                                     IsReadOnly="True" Grid.Row="1" Grid.Column="1"
                                                     VerticalContentAlignment="Center" VerticalAlignment="Center"
                                                     HorizontalContentAlignment="Stretch" />
                                            <Button x:Name="ChangeBlockLogFilePath"
                                                    cal:Message.Attach="ChangeBlockLogFilePath"
                                                    Background="White"
                                                    IsEnabled="False"
                                                    Width="30"
                                                    Height="30" HorizontalAlignment="Right"
                                                    Cursor="Hand" Grid.Row="1" Grid.Column="2"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="5,0,5,0">
                                                <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                        </Grid>
                                    </Grid>
                                </Border>
                            </DockPanel>
                        </ScrollViewer>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="addressBlockLogTab"
                             Visibility="{Binding SettingsViewModel.IsAddressBlockLogTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}"
                             Header="{lex:Loc Key=tabitem_addressblocklog}">
                    <TabItem.Content>
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <DockPanel Margin="0,10,0,0">
                                <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,10,0,0"
                                        DataContext="{Binding AddressBlockLogViewModel}" DockPanel.Dock="Top">
                                    <Border.BorderBrush>
                                        <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                            <DrawingBrush.Drawing>
                                                <DrawingGroup>
                                                    <GeometryDrawing Brush="#FF8ab329">
                                                        <GeometryDrawing.Geometry>
                                                            <GeometryGroup>
                                                                <RectangleGeometry Rect="0,0,50,50" />
                                                                <RectangleGeometry Rect="50,50,50,50" />
                                                            </GeometryGroup>
                                                        </GeometryDrawing.Geometry>
                                                    </GeometryDrawing>
                                                </DrawingGroup>
                                            </DrawingBrush.Drawing>
                                        </DrawingBrush>
                                    </Border.BorderBrush>
                                    <StackPanel>

                                    </StackPanel>
                                </Border>
                            </DockPanel>
                        </ScrollViewer>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="domainBlacklistTab"
                             Visibility="{Binding SettingsViewModel.IsDomainBlacklistTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}"
                             Header="{lex:Loc Key=tabitem_domainblacklist}">
                    <TabItem.Content>
                        <DockPanel Margin="0,10,0,0">
                            <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,10,0,0"
                                        DataContext="{Binding DomainBlacklistViewModel}" DockPanel.Dock="Top">
                                <Border.BorderBrush>
                                    <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>
                                                <GeometryDrawing Brush="#FF8ab329">
                                                    <GeometryDrawing.Geometry>
                                                        <GeometryGroup>
                                                            <RectangleGeometry Rect="0,0,50,50" />
                                                            <RectangleGeometry Rect="50,50,50,50" />
                                                        </GeometryGroup>
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Border.BorderBrush>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <iconPacks:PackIconMaterial Grid.Column="0" Grid.Row="0" Height="20"
                                                                    Width="20" Kind="BlockHelper"
                                                                    Opacity="0.7"
                                                                    Foreground="#FF8ab329"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center" />
                                    <TextBlock Grid.Column="1" Grid.Row="0"
                                                   Text="{lex:Loc Key=blacklist_header}"
                                                   TextWrapping="Wrap" VerticalAlignment="Center"
                                                   Foreground="#FF8ab329" FontSize="20"
                                                   Opacity="0.7" Margin="5,0,0,0" FontWeight="Bold">
                                    </TextBlock>
                                    <controls:ToggleSwitch HorizontalAlignment="Right" Margin="0,0,5,0"
                                                                     Cursor="Hand"
                                                                     IsOn="{Binding IsBlacklistEnabled}"
                                                                     Grid.Column="1" Grid.Row="0" />
                                    <Grid Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <Label MinWidth="120" Grid.Column="0" VerticalContentAlignment="Center"
                                                   Foreground="#FF575757" Content="{lex:Loc Key=blacklist_path}"
                                                   Height="30" VerticalAlignment="Top" />
                                        <TextBox Grid.Column="1" Text="{Binding DomainBlacklistFile}"
                                                     Background="#FF8ab329"
                                                     Opacity="0.4" BorderBrush="#FF575757"
                                                     MinWidth="560" IsReadOnly="True"
                                                     VerticalContentAlignment="Center"
                                                     Margin="0,0,0,0" />
                                        <Button Grid.Column="2" x:Name="ChangeBlacklistFilePath"
                                                    cal:Message.Attach="ChangeBlacklistFilePath"
                                                    Background="White"
                                                    IsEnabled="{Binding IsBlacklistEnabled, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                    Width="30"
                                                    Height="30"
                                                    Cursor="Hand"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="15,0,0,0">
                                            <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                            <Button.ToolTip>
                                                <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                            </Button.ToolTip>
                                        </Button>
                                    </Grid>

                                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" Grid.Column="0"
                                                    Grid.Row="2">
                                        <Label Foreground="#FF575757"
                                                   FontSize="16" FontWeight="Bold"
                                                   Content="{lex:Loc Key=whitelist_rules_header}"
                                                   VerticalAlignment="Center" />
                                        <Label Foreground="#FF575757"
                                                   FontSize="12"
                                                   Content="{lex:Loc Key=whitelist_rules_sub_header}"
                                                   Margin="0,2,0,0"
                                                   VerticalAlignment="Center" />
                                    </StackPanel>

                                    <Grid Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <ListView BorderBrush="#198AB328" Grid.Column="0"
                                                      IsEnabled="{Binding IsWorking, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      ScrollViewer.CanContentScroll="True"
                                                      MinHeight="180" MinWidth="680"
                                                      SelectedItem="{Binding Path=SelectedDomainWhitelistEntry}"
                                                      ItemsSource="{Binding Path=DomainWhitelistRules}">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <Label Content="{Binding}"
                                                               FontSize="10"
                                                               Foreground="#FF575757" />
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                        <StackPanel Orientation="Vertical" Margin="15,0,0,0" Grid.Column="1">
                                            <Button x:Name="AddWhitelistRule"
                                                        cal:Message.Attach="AddWhitelistRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Plus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_whitelist_add}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="RemoveWhitelistRule"
                                                        cal:Message.Attach="RemoveWhitelistRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Minus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_whitelist_remove}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ImportWhitelistRules"
                                                        cal:Message.Attach="ImportWhitelistRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileImport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_whitelist_import}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ExportWhitelistRules"
                                                        cal:Message.Attach="ExportWhitelistRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileExport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_whitelist_export}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                        </StackPanel>
                                    </Grid>

                                    <Grid Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="2" Margin="0,5,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Label MinWidth="120" VerticalContentAlignment="Center"
                                                   Foreground="#FF575757" Grid.Column="0"
                                                   Content="{lex:Loc Key=whitelist_rules_path}" />
                                        <TextBox Text="{Binding DomainWhitelistRuleFilePath}"
                                                     Background="#FF8ab329" Opacity="0.4" BorderBrush="#FF575757"
                                                     MinWidth="560" IsReadOnly="True" Grid.Column="1"
                                                     VerticalContentAlignment="Center"
                                                     Margin="0,0,0,0" />
                                        <Button x:Name="ChangeWhitelistRulesFilePath" Grid.Column="2"
                                                    cal:Message.Attach="ChangeWhitelistRulesFilePath"
                                                    Background="White"
                                                    Width="30"
                                                    Height="30"
                                                    Cursor="Hand"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="15,0,0,0">
                                            <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                            <Button.ToolTip>
                                                <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                            </Button.ToolTip>
                                        </Button>
                                    </Grid>
                                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" Grid.Column="0"
                                                    Grid.Row="5">
                                        <Label Foreground="#FF575757"
                                                   FontSize="16" FontWeight="Bold"
                                                   Content="{lex:Loc Key=blacklist_rules_header}"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left">
                                        </Label>
                                        <Label Foreground="#FF575757"
                                                   FontSize="12"
                                                   Content="{lex:Loc Key=blacklist_rules_sub_header}"
                                                   Margin="0,2,0,0"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left">
                                        </Label>
                                    </StackPanel>

                                    <Grid Grid.Column="0" Grid.Row="6" Grid.ColumnSpan="2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <ListView BorderBrush="#198AB328" Grid.Column="0"
                                                      IsEnabled="{Binding IsWorking, Converter={StaticResource ReverseBoolToEnabledConverter}}"
                                                      ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                      ScrollViewer.CanContentScroll="True"
                                                      MinHeight="180" MinWidth="680"
                                                      SelectedItem="{Binding Path=SelectedDomainBlacklistEntry}"
                                                      ItemsSource="{Binding Path=DomainBlacklistRules}">
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <Label Content="{Binding}"
                                                               FontSize="10"
                                                               Foreground="#FF575757" />
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                        <StackPanel Orientation="Vertical" Margin="15,0,0,0" Grid.Column="1">
                                            <Button x:Name="AddBlacklistRule"
                                                        cal:Message.Attach="AddBlacklistRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Plus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_blacklist_add}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="RemoveBlacklistRule"
                                                        cal:Message.Attach="RemoveBlacklistRule"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Minus"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_blacklist_remove}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ImportBlacklistRules"
                                                        cal:Message.Attach="ImportBlacklistRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileImport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_blacklist_import}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ExportBlacklistRules"
                                                        cal:Message.Attach="ExportBlacklistRules"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="FileExport"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_blacklist_export}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="BuildBlacklist" cal:Message.Attach="BuildBlacklist"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="Creation"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label
                                                            Content="{lex:Loc Key=button_blacklist_build}"
                                                            FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="ClearDomainBlackList" cal:Message.Attach="ClearDomainBlackList"
                                                        Background="White"
                                                        Width="30"
                                                        Height="30"
                                                        Cursor="Hand"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        BorderBrush="{DynamicResource AccentColorBrush}"
                                                        FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                        Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                        Margin="0,7,0,0">
                                                <iconPacks:PackIconMaterial
                                                        Kind="NotificationClearAll"
                                                        Width="15"
                                                        Height="15"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Foreground="{DynamicResource AccentColorBrush}" />
                                                <Button.ToolTip>
                                                    <Label Content="{lex:Loc Key=button_blacklist_clear}"
                                                               FontWeight="DemiBold" />
                                                </Button.ToolTip>
                                            </Button>
                                        </StackPanel>
                                    </Grid>

                                    <Grid Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2" Margin="0,5,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Label MinWidth="120" VerticalContentAlignment="Center"
                                                   Foreground="#FF575757" Grid.Column="0"
                                                   Content="{lex:Loc Key=blacklist_rules_path}" />
                                        <TextBox Text="{Binding DomainBlacklistRuleFilePath}"
                                                     Background="#FF8ab329" Opacity="0.4" BorderBrush="#FF575757"
                                                     MinWidth="560" IsReadOnly="True" Grid.Column="1"
                                                     VerticalContentAlignment="Center"
                                                     Margin="0,0,0,0" />
                                        <Button x:Name="ChangeBlacklistRulesFilePath"
                                                    cal:Message.Attach="ChangeBlacklistRulesFilePath"
                                                    Background="White" Grid.Column="2"
                                                    Width="30"
                                                    Height="30"
                                                    Cursor="Hand"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    BorderBrush="{DynamicResource AccentColorBrush}"
                                                    FocusVisualStyle="{DynamicResource MahApps.Metro.Styles.MetroCircleFocusVisual}"
                                                    Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}"
                                                    Margin="15,0,0,0">
                                            <iconPacks:PackIconMaterial
                                                    Kind="DotsHorizontal"
                                                    Width="15"
                                                    Height="15"
                                                    HorizontalContentAlignment="Center"
                                                    VerticalContentAlignment="Center"
                                                    Foreground="{DynamicResource AccentColorBrush}" />
                                            <Button.ToolTip>
                                                <Label
                                                        Content="{lex:Loc Key=button_select_path}"
                                                        FontWeight="DemiBold" />
                                            </Button.ToolTip>
                                        </Button>
                                    </Grid>
                                </Grid>

                            </Border>
                        </DockPanel>
                    </TabItem.Content>
                </TabItem>
                <TabItem Padding="10,2,10,2" Height="39" VerticalAlignment="Top" Tag="addressBlacklistTab"
                             Visibility="{Binding SettingsViewModel.IsAddressBlacklistTabVisible, Converter={StaticResource BoolToVisibilityCollapsedConverter}}"
                             Header="{lex:Loc Key=tabitem_addressblacklist}">
                    <TabItem.Content>
                        <DockPanel Margin="0,10,0,0">
                            <Border BorderThickness="1" Background="#198AB328" Padding="10" Margin="0,10,0,0"
                                        DataContext="{Binding AddressBlacklistViewModel}" DockPanel.Dock="Top">
                                <Border.BorderBrush>
                                    <DrawingBrush Viewport="0,0,8,8" ViewportUnits="Absolute" TileMode="Tile"
                                                      Opacity="0.4">
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>
                                                <GeometryDrawing Brush="#FF8ab329">
                                                    <GeometryDrawing.Geometry>
                                                        <GeometryGroup>
                                                            <RectangleGeometry Rect="0,0,50,50" />
                                                            <RectangleGeometry Rect="50,50,50,50" />
                                                        </GeometryGroup>
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Border.BorderBrush>
                                <StackPanel>

                                </StackPanel>
                            </Border>
                        </DockPanel>
                    </TabItem.Content>
                </TabItem>
            </TabControl>
        </Border>
    </Grid>
</UserControl>